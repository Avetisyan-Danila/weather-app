import{S as k}from"./StatsInfo-36fcd78d.js";import{_ as C,L as S,u as I,N as F,r as D,d as r,a as b,f as x,w as V,i as l,j as n,s as e,O as B,q as t,t as o,k as L,F as M,A as N,y as W,x as c,P as A,D as E,E as $,G as j}from"./index-63fa704b.js";const v=i=>($("data-v-fbea821f"),i=i(),j(),i),q={key:0,class:"detailed"},z={class:"detailed__add"},G=["src"],O={class:"detailed__title"},P={class:"detailed__info"},R={class:"detailed__info-top"},H=["src"],J={class:"detailed__degrees-block"},K={class:"detailed__degrees-afternoon"},Q=v(()=>e("div",{class:"detailed__degrees-separator"},null,-1)),T={class:"detailed__degrees-night"},U={class:"weekly-weather"},X={class:"weekly-weather__list"},Y={class:"weekly-weather__day"},Z={class:"weekly-weather__forecast"},ee=["src"],te=v(()=>e("div",{class:"weekly-weather__weather-name"},"Cloudy",-1)),se={class:"weekly-weather__degrees-block"},ae={class:"weekly-weather__degrees-item"},oe={class:"weekly-weather__degrees-item"},de={__name:"DetailedView",setup(i){const w=S(),h=I(),_=F(),s=D(null),a=w.params.city,m=r(()=>s?.value?.forecast.forecastday),u=r(()=>_.getFavoriteCity(a)),g=()=>{_.getFavoriteCity(a)?_.removeFavoriteCity(a):_.setFavoriteCity(a)};b(async()=>{await h.setCityWeather(a,3),s.value=h.getCityWeather(a,3)});const p=x(),f=r(()=>!s.value);return V(f,y=>{p.setLoadingIndicator(y)},{immediate:!0}),(y,ie)=>s.value?(l(),n("div",q,[e("div",z,[e("div",{onClick:g,class:B(["detailed__add-button",{"detailed__add-button--active":t(u)}])},[e("img",{src:t(u)?t(c)("icons/heart-red.svg"):t(c)("icons/heart.svg"),alt:"Bell",width:"20",height:"20"},null,8,G)],2)]),e("h2",O,o(t(a)),1),e("div",P,[e("div",R,[e("img",{class:"detailed__img",src:t(c)(`weather/${s.value.currentDayIcon}.svg`),alt:"Cloudy",width:"169",height:"132"},null,8,H),e("div",J,[e("div",K,o(Math.round(s.value.forecast.forecastday[0].day.maxtemp_c)),1),Q,e("div",T,o(Math.round(s.value.forecast.forecastday[0].day.mintemp_c)),1)])]),L(k,{"weather-info":s.value,class:"detailed__stats"},null,8,["weather-info"])]),e("div",U,[e("ul",X,[(l(!0),n(M,null,N(t(m),d=>(l(),n("li",{key:d.date,class:"weekly-weather__item"},[e("div",Y,o(t(A)[new Date(d.date).getDay()]),1),e("div",Z,[e("img",{class:"weekly-weather__img",src:t(c)(`weather/${t(E)(d.day.condition.code,12)}.svg`),alt:"Cloudy",width:"50",height:"50"},null,8,ee),te]),e("div",se,[e("div",ae,o(Math.round(d.day.maxtemp_c)),1),e("div",oe,o(Math.round(d.day.mintemp_c)),1)])]))),128))])])])):W("",!0)}},re=C(de,[["__scopeId","data-v-fbea821f"]]);export{re as default};
