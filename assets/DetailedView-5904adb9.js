import{S as k}from"./StatsInfo-67f89e8d.js";import{_ as C,v as S,a as I,x as F,r as D,d as l,o as b,c as x,w as B,e as r,f as n,g as e,y as V,j as s,z as o,i as M,F as W,n as L,q as N,m as _,A as z,B as A,s as $,t as j}from"./main-8ef16e78.js";const y=i=>($("data-v-fbea821f"),i=i(),j(),i),q={key:0,class:"detailed"},E={class:"detailed__add"},R=["src"],G={class:"detailed__title"},H={class:"detailed__info"},J={class:"detailed__info-top"},K=["src"],O={class:"detailed__degrees-block"},P={class:"detailed__degrees-afternoon"},Q=y(()=>e("div",{class:"detailed__degrees-separator"},null,-1)),T={class:"detailed__degrees-night"},U={class:"weekly-weather"},X={class:"weekly-weather__list"},Y={class:"weekly-weather__day"},Z={class:"weekly-weather__forecast"},ee=["src"],te=y(()=>e("div",{class:"weekly-weather__weather-name"},"Cloudy",-1)),ae={class:"weekly-weather__degrees-block"},se={class:"weekly-weather__degrees-item"},oe={class:"weekly-weather__degrees-item"},de={__name:"DetailedView",setup(i){const w=S(),h=I(),c=F(),t=D(null),a=w.params.city,m=l(()=>t?.value?.forecast.forecastday),u=l(()=>c.getFavoriteCity(a)),g=()=>{c.getFavoriteCity(a)?c.removeFavoriteCity(a):c.setFavoriteCity(a)};b(async()=>{await h.setCityWeather(a,3),t.value=h.getCityWeather(a,3)});const p=x(),f=l(()=>!t.value);return B(f,v=>{p.setLoadingIndicator(v)},{immediate:!0}),(v,ie)=>t.value?(r(),n("div",q,[e("div",E,[e("div",{onClick:g,class:V(["detailed__add-button",{"detailed__add-button--active":u.value}])},[e("img",{src:u.value?s(_)("icons/heart-red.svg"):s(_)("icons/heart.svg"),alt:"Bell",width:"20",height:"20"},null,8,R)],2)]),e("h2",G,o(s(a)),1),e("div",H,[e("div",J,[e("img",{class:"detailed__img",src:s(_)(`weather/${t.value.currentDayIcon}.svg`),alt:"Cloudy",width:"169",height:"132"},null,8,K),e("div",O,[e("div",P,o(Math.round(t.value.forecast.forecastday[0].day.maxtemp_c)),1),Q,e("div",T,o(Math.round(t.value.forecast.forecastday[0].day.mintemp_c)),1)])]),M(k,{"weather-info":t.value,class:"detailed__stats"},null,8,["weather-info"])]),e("div",U,[e("ul",X,[(r(!0),n(W,null,L(m.value,d=>(r(),n("li",{key:d.date,class:"weekly-weather__item"},[e("div",Y,o(s(z)[new Date(d.date).getDay()]),1),e("div",Z,[e("img",{class:"weekly-weather__img",src:s(_)(`weather/${s(A)(d.day.condition.code,12)}.svg`),alt:"Cloudy",width:"50",height:"50"},null,8,ee),te]),e("div",ae,[e("div",se,o(Math.round(d.day.maxtemp_c)),1),e("div",oe,o(Math.round(d.day.mintemp_c)),1)])]))),128))])])])):N("",!0)}},le=C(de,[["__scopeId","data-v-fbea821f"]]);export{le as default};
