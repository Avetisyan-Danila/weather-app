import{S as k}from"./StatsInfo-fcedde3f.js";import{_ as C,L as S,u as I,N as F,r as D,d as l,a as b,f as x,w as V,i as r,j as n,q as e,O as B,s,t as o,k as L,F as M,A as N,y as W,x as c,P as A,D as E,E as $,G as j}from"./index-959c02a7.js";const y=i=>($("data-v-fbea821f"),i=i(),j(),i),q={key:0,class:"detailed"},z={class:"detailed__add"},G=["src"],O={class:"detailed__title"},P={class:"detailed__info"},R={class:"detailed__info-top"},H=["src"],J={class:"detailed__degrees-block"},K={class:"detailed__degrees-afternoon"},Q=y(()=>e("div",{class:"detailed__degrees-separator"},null,-1)),T={class:"detailed__degrees-night"},U={class:"weekly-weather"},X={class:"weekly-weather__list"},Y={class:"weekly-weather__day"},Z={class:"weekly-weather__forecast"},ee=["src"],te=y(()=>e("div",{class:"weekly-weather__weather-name"},"Cloudy",-1)),ae={class:"weekly-weather__degrees-block"},se={class:"weekly-weather__degrees-item"},oe={class:"weekly-weather__degrees-item"},de={__name:"DetailedView",setup(i){const w=S(),h=I(),_=F(),t=D(null),a=w.params.city,m=l(()=>t?.value?.forecast.forecastday),u=l(()=>_.getFavoriteCity(a)),g=()=>{_.getFavoriteCity(a)?_.removeFavoriteCity(a):_.setFavoriteCity(a)};b(async()=>{await h.setCityWeather(a,3),t.value=h.getCityWeather(a,3)});const p=x(),f=l(()=>!t.value);return V(f,v=>{p.setLoadingIndicator(v)},{immediate:!0}),(v,ie)=>t.value?(r(),n("div",q,[e("div",z,[e("div",{onClick:g,class:B(["detailed__add-button",{"detailed__add-button--active":u.value}])},[e("img",{src:u.value?s(c)("icons/heart-red.svg"):s(c)("icons/heart.svg"),alt:"Bell",width:"20",height:"20"},null,8,G)],2)]),e("h2",O,o(s(a)),1),e("div",P,[e("div",R,[e("img",{class:"detailed__img",src:s(c)(`weather/${t.value.currentDayIcon}.svg`),alt:"Cloudy",width:"169",height:"132"},null,8,H),e("div",J,[e("div",K,o(Math.round(t.value.forecast.forecastday[0].day.maxtemp_c)),1),Q,e("div",T,o(Math.round(t.value.forecast.forecastday[0].day.mintemp_c)),1)])]),L(k,{"weather-info":t.value,class:"detailed__stats"},null,8,["weather-info"])]),e("div",U,[e("ul",X,[(r(!0),n(M,null,N(m.value,d=>(r(),n("li",{key:d.date,class:"weekly-weather__item"},[e("div",Y,o(s(A)[new Date(d.date).getDay()]),1),e("div",Z,[e("img",{class:"weekly-weather__img",src:s(c)(`weather/${s(E)(d.day.condition.code,12)}.svg`),alt:"Cloudy",width:"50",height:"50"},null,8,ee),te]),e("div",ae,[e("div",se,o(Math.round(d.day.maxtemp_c)),1),e("div",oe,o(Math.round(d.day.mintemp_c)),1)])]))),128))])])])):W("",!0)}},le=C(de,[["__scopeId","data-v-fbea821f"]]);export{le as default};
